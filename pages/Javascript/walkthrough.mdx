---
title: 'Walkthrough'
---

import { Callout, Steps, Tab, Tabs } from 'nextra-theme-docs';

# Building a Vanilla App with Huddle01

## Walkthrough

The following guide explains how you can integrate audio/video into your application seamlessly using the Huddle01 vanilla JS SDK.

<Steps>
### Add the following code snippet to the head of your HTML file: Replace with our CDN

To power your Vanilla App with audio/video communication using Huddle01.

```js filename="app.js" 
<script src="https://unpkg.com/@huddle01/web-core@latest/dist/index.js" />
```


### Initialization of project

Head over to [API Keys Page](/api-keys) and connect your wallet to get your project credentials: 

- `API Key`
- `projectId`

Once done, initialize your project by calling the `initialize()` method and pass `projectId`  in params.

```js filename="app.js" highlight={6}
<script src="https://unpkg.com/@huddle01/web-core@latest/dist/index.js" / >
 
<script type="module">
  const huddleClient = new HuddleClient({
  projectId: env.NEXT_PUBLIC_PROJECT_ID,
  options: {
    activeSpeakers: {
      size: 8,
    },
  },
});
</script>
```

### Generating the Access Token.
Once the client has been initialized,

Room Id can be generated using the : [Create Room API](/apis/create-room/create-room)



```js filename="app.js" highlight={4-6}
<script type="module">
  
  import { AccessToken, Role } from '@huddle01/server-sdk/auth';

   const accessToken = new AccessToken({
        apiKey,
        roomId: "YOUR_ROOM_ID",
        role:  Role.HOST,
        permissions: {
          admin: true,
          canConsume: true,
          canProduce: true,
          canProduceSources: {
            cam: true,
            mic: true,
            screen: true,
          },
          canRecvData: true,
          canSendData: true,
          canUpdateMetadata: true,
        },
        options: {
          metadata: { 
             // you can add any custom attributes here which you want to associate with the user
            walletAddress: "axit.eth"
          },
        },
      });


</script>
```

### Joining and leaving the room

The `joinRoom() `method can be called to enter the room. To leave that respective room you can call the `leaveRoom() `method.

```js filename="app.js" highlight={8-14}
<script type="module">

    document.getElementById('joinRoom').onclick = async () => {
    await huddleClient.joinLobby({
      roomId: "YOUR_ROOM_ID",
	    token: "YOUR_ACCESS_TOKEN"
    });
  };

  document.getElementById('leaveRoom').onclick = async () => {
      await huddleClient.leaveRoom();
  };

</script>
```

### Enabling and Disabling Audio and Video.

Add the locale codes to your file extensions (required for the default locale too):

```js filename="app.js" highlight={16-22}
<script type="module">

  document.getElementById('enableMic').onclick = async () => {
    await huddleClient.localPeer.enableAudio();
  };

  document.getElementById('disableMic').onclick = async () => {
     await huddleClient.localPeer.disableAudio();
  };

  document.getElementById('enableCam').onclick = async () => {
    await huddleClient.localPeer.enableVideo();
  };

  document.getElementById('disableCam').onclick = async () => {
     await huddleClient.localPeer.disableVideo();
  };

</script>
```
<Callout type="info">
Clicking on the **JOIN_ROOM** button, will make the user join the room and will allow them to send/receive media with other participants.
</Callout>


### Sending media across to other participants
Here, we are using a term **PRODUCE** which means sending your audio/video stream across to the other peer who will **CONSUME** (or receive) the streams.


```js filename="app.js" highlight={30-31}
<script type="module">

  document.getElementById('produceMic').onclick = async () => {
     // Producing a video stream from a Local Peer
      await huddleClient.localPeer.produce({ label: "video", stream: mediaStream, appData: { key: "value" } });
  };

  document.getElementById('produceCam').onclick = async () => {
      // Stopping a video stream from a Local Peer
      await huddleClient.localPeer.stopProducing({ label: "video" });
  };

  document.getElementById('produceCam').onclick = () => {
      // Stopping a audio stream from a Local Peer
      await huddleClient.localPeer.produce({ label: "audio", stream: mediaStream, appData: { key: "value" } });
  };

  document.getElementById('produceCam').onclick = async () => {
      // Stopping a audio stream from a Local Peer
      await huddleClient.localPeer.stopProducing({ label: "audio" });
  };

  document.getElementById("consumeMic").onclick = async () => {
     // Consume a stream from a Remote Peer
     await localPeer.consume({
       peerId: "remotePeerID",
       label: "streamLabel",
       appData: { key: "value" },
   });
  }

  document.getElementById("consumeMic").onclick = async () => {
    // Stop consuming a stream from remote peer
    await huddleClient.localPeer.stopConsuming({
     peerId: "remotePeerID",
     label: "streamLabel", // stream label can be 'video', 'audio', 'screen'
   });
  }

</script>
```


### You're all set! Happy Hacking! ðŸŽ‰

For more information, please refer to the [SDK Reference](/Javascript).

</Steps>
