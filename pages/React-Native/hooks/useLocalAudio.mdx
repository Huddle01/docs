---
title: 'useLocalAudio'
---

import OptionTable from '@components/common/Table/OptionTable';
import Pill from '@components/common/Pill/Pill';

# useLocalAudio

The useLocalAudio hook exposes primitives to interact with your own audio stream - coming from your microphone device.

```tsx
const {
    stream,
    track,
    isAudioOn,
    enableAudio,
    disableAudio,
    replaceAudioStream,
    changeAudioSource,
  } = useLocalAudio({
    onProduceStart(producer) {},
    onProduceClose(label:string) {},
    onProduceError() {},
  });
```


## Props
The useLocalAudio hook accepts an object with the following fields as props.

{/* onProduceStart */}
### <span className="font-mono font-semibold">onProduceStart</span>
<div className='flex w-40 justify-between mt-4'>
  <Pill>Optional</Pill>
  <Pill>Advanced</Pill>
</div>

<OptionTable
  headers={['Description', 'Return Type']}
  options={[
    [
      "This function will be called when you start producing your microphone's audio stream i.e sharing it with other peers in the room.",
      'void',
    ],
  ]}
/>

<OptionTable
  headers={['Parameter Name', 'Type', 'Description', 'Required']}
  options={[
    [
      'producer',
      'Producer',
      'The mediasoup producer object.',
      'Yes',
    ],
  ]}
/>

#### Example Usage

```tsx
const localAudio = useLocalAudio({ onProduceStart: (producer) => {
	console.log("Started producing your audio stream!");
	console.log(producer);
    // your code here
}});
```

{/* onProduceClose */}
### <span className="font-mono font-semibold">onProduceClose</span>
<div className='flex w-40 justify-between mt-4'>
  <Pill>Optional</Pill>
  <Pill>Advanced</Pill>
</div>

<OptionTable
  headers={['Description', 'Return Type']}
  options={[
    [
      "This function will be called when you stop producing your microphone's audio stream.",
      'void',
    ],
  ]}
/>

#### Example Usage

```tsx
const localAudio = useLocalAudio({ onProduceClose: () => {
	console.log("Stopped producing your audio stream!");
    // your code here
}});
```

{/* onProduceError */}
### <span className="font-mono font-semibold">onProduceError</span>
<div className='flex w-40 justify-between mt-4'>
  <Pill>Optional</Pill>
  <Pill>Advanced</Pill>
</div>

<OptionTable
  headers={['Description', 'Return Type']}
  options={[
    [
      "This function will be called when there was an error encountered while producing your microphone's audio stream.",
      'void',
    ],
  ]}
/>

#### Example Usage

```tsx
const localAudio = useLocalAudio({ onProduceError: () => {
	console.log("There was an error in producing your audio stream!");
    // your code here
}});
```

## Returns
The useLocalAudio hook returns an object with the following fields.

{/* stream */}
### <span className="font-mono font-semibold">stream</span>
<div className='w-20 mt-4'>
  <Pill>Object</Pill>
</div>

<OptionTable
  headers={['Description', 'Type']}
  options={[
    [
      "Your microphone's audio stream. null if not enabled yet.",
      'MediaStream | null',
    ],
  ]}
/>

{/* track */}
### <span className="font-mono font-semibold">track</span>
<div className='w-20 mt-4'>
  <Pill>Object</Pill>
</div>

<OptionTable
  headers={['Description', 'Type']}
  options={[
    [
      "Your microphone's audio stream track. null if not enabled yet.",
      'MediaStreamTrack | null',
    ],
  ]}
/>

{/* isAudioOn */}
### <span className="font-mono font-semibold">isAudioOn</span>
<div className='w-20 mt-4'>
  <Pill>Object</Pill>
</div>

<OptionTable
  headers={['Description', 'Type']}
  options={[
    [
      "Your camera's audio stream is on or off yet.",
      'boolean',
    ],
  ]}
/>

{/* enableAudio */}
### <span className="font-mono font-semibold">enableAudio</span>
<div className='w-20 mt-4'>
  <Pill>Function</Pill>
</div>

<OptionTable
  headers={['Description', 'Return Type']}
  options={[
    [
      "Enable your microphone's audio stream and start producing it with other peers in the room.",
      'Promise<void>',
    ],
  ]}
/>

{/* disableAudio */}
### <span className="font-mono font-semibold">disableAudio</span>
<div className='w-20 mt-4'>
  <Pill>Function</Pill>
</div>

<OptionTable
  headers={['Description', 'Return Type']}
  options={[
    [
      "Disable your microphone's audio stream and stop producing it with other peers in the room.",
      'Promise<void>',
    ],
  ]}
/>


{/* replaceAudioStream */}
### <span className="font-mono font-semibold">replaceAudioStream</span>
<div className='flex w-40 justify-between mt-4'>
  <Pill>Function</Pill>
  <Pill>Advanced</Pill>
</div>

<OptionTable
  headers={['Description', 'Return Type']}
  options={[
    [
      "Replaces the  mediastream.",
      'Promise<void>',
    ],
  ]}
/>


{/* changeAudioSource */}
### <span className="font-mono font-semibold">changeAudioSource</span>
<div className='flex w-40 justify-between mt-4'>
  <Pill>Function</Pill>
  <Pill>Advanced</Pill>
</div>

<OptionTable
  headers={['Description', 'Return Type']}
  options={[
    [
      "Changes the audio sources of the devices.",
      'Promise<void>',
    ],
  ]}
/>
